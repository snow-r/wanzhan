require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/orderList"],{"1ab9":function(t,n,e){"use strict";(function(t){e("6cdc");i(e("66fd"));var n=i(e("3231"));function i(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},3231:function(t,n,e){"use strict";e.r(n);var i=e("acc2"),s=e("ec5d");for(var a in s)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return s[t]}))}(a);e("b442");var o,u=e("f0c5"),l=Object(u["a"])(s["default"],i["b"],i["c"],!1,null,"7f367572",null,!1,i["a"],o);n["default"]=l.exports},"3c32":function(t,n,e){},acc2:function(t,n,e){"use strict";var i;e.d(n,"b",(function(){return s})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return i}));var s=function(){var t=this,n=t.$createElement,e=(t._self._c,null!=t.list&&t.list.length>0?t.__map(t.list,(function(n,e){var i=t.__get_orig(n),s=/^http/.test(n.shopDetail.imgUrl),a=s?null:/^http/.test(n.shopDetail.imgUrl);return{$orig:i,g0:s,g1:a}})):null),i=null!=t.list&&t.list.length>0?t.__map(t.list,(function(n,e){var i=t.__get_orig(n),s=/^http/.test(n.shopDetail.imgUrl),a=s?null:/^http/.test(n.shopDetail.imgUrl);return{$orig:i,g2:s,g3:a}})):null,s=null!=t.list&&t.list.length>0?t.__map(t.list,(function(n,e){var i=t.__get_orig(n),s=/^http/.test(n.shopDetail.imgUrl),a=s?null:/^http/.test(n.shopDetail.imgUrl);return{$orig:i,g4:s,g5:a}})):null,a=null!=t.list&&t.list.length>0?t.__map(t.list,(function(n,e){var i=t.__get_orig(n),s=/^http/.test(n.shopDetail.imgUrl),a=s?null:/^http/.test(n.shopDetail.imgUrl);return{$orig:i,g6:s,g7:a}})):null;t.$mp.data=Object.assign({},{$root:{l0:e,l1:i,l2:s,l3:a}})},a=[]},b442:function(t,n,e){"use strict";var i=e("3c32"),s=e.n(i);s.a},c204:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("b703"),s=function(){e.e("components/topBar").then(function(){return resolve(e("ad1a"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("subpages/components/tabss").then(function(){return resolve(e("f905"))}.bind(null,e)).catch(e.oe)},o=function(){e.e("subpages/components/tabPane").then(function(){return resolve(e("124d"))}.bind(null,e)).catch(e.oe)},u={components:{TopBar:s,Tabs:a,TabPane:o},data:function(){return{current:0,IMG_BEFORE_URL:i.IMG_BEFORE_URL,TabList:[{title:"全部"},{title:"待使用"},{title:"已使用"},{title:"已取消"}],list:null,pageNum:1,status:null,authStatus:"0",companyId:null}},computed:{isIpx:function(){return this.$isIpx},navHeight:function(){return t.getStorageSync("navHeight")}},onLoad:function(t){this.getUser(),this.current=t.status,0==this.current?this.status=null:1==this.current?this.status=5:2==this.current?this.status=10:3==this.current&&(this.status=20),null==this.status?this.getOrderList():this.getLists()},onShow:function(){null==this.status?this.getOrderList():this.getLists()},mounted:function(){},methods:{getUser:function(){var n=this,e={userId:t.getStorageSync("userId")};this.$api.userMsg(e).then((function(t){n.authStatus=Number(t.data.authStatus),n.companyId=t.data.companyId}))},tabsChange:function(t){console.log(t,"5555"),this.current=t,0==t?this.status=null:1==t?this.status=5:2==t?this.status=10:3==t&&(this.status=20),this.pageNum=1,null==this.status?this.getOrderList():this.getLists()},getOrderList:function(){var n=this,e={pageNum:this.pageNum,pageSize:10};this.$api.getOrderList(e).then((function(e){if(t.hideLoading(),1==n.pageNum)n.list=e.data.list;else if(0==e.data.list.length)t.showToast({title:"没有更多了",icon:"none"});else{var i=n.list.concat(e.data.list);n.list=i}}))},getLists:function(){var n=this,e={pageNum:this.pageNum,pageSize:10,num:this.status};t.showLoading({mask:!0}),this.$api.getOrderLists(e).then((function(e){if(t.hideLoading(),1==n.pageNum)n.list=e.data.list,console.log(n.list,"6666666");else if(0==e.data.list.length)t.showToast({title:"没有更多了",icon:"none"});else{var i=n.list.concat(e.data.list);n.list=i}}))},gotoPay:function(n,e){t.navigateTo({url:"/subpages/pages/payNumber?number="+e+"&orderId="+n})},gotoPinglun:function(){t.navigateTo({url:"/subpages/pages/orderComment?id="+item.id})},cancelOrderList:function(n){var e=this;console.log(e,"4444444"),t.showModal({title:"",content:"确定取消该订单吗？",success:function(i){if(i.confirm){var s={id:n};t.showLoading(),e.$api.cancelOrder(s).then((function(n){t.hideLoading(),200==n.code&&(setTimeout((function(){t.showToast({title:"取消订单成功",icon:"none",duration:1500})}),1500),e.pageNum=1,null==e.status?e.getOrderList():e.getLists())}))}else i.cancel&&(t.showToast({title:"操作取消",icon:"none",duration:1500}),console.log("用户点击取消"))}})},loadMore:function(){this.pageNum+=1,t.showLoading({title:"加载中"}),t.hideLoading(),this.getDataList()},gotoOrderDetail:function(n){var e=null;e=null!=this.companyId?n.receiveCompanyPay:n.receivePay,t.navigateTo({url:"/subpages/pages/renwuDetail?id="+n.id+"&prices="+e})}}};n.default=u}).call(this,e("543d")["default"])},ec5d:function(t,n,e){"use strict";e.r(n);var i=e("c204"),s=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=s.a}},[["1ab9","common/runtime","common/vendor"]]]);