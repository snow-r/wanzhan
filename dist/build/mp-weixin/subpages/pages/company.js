require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/company"],{1063:function(t,e,o){"use strict";var n;o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"64af":function(t,e,o){"use strict";var n=o("a7a6"),i=o.n(n);i.a},a7a6:function(t,e,o){},b466:function(t,e,o){"use strict";o.r(e);var n=o("d78e"),i=o.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(a);e["default"]=i.a},c5c0:function(t,e,o){"use strict";o.r(e);var n=o("1063"),i=o("b466");for(var a in i)["default"].indexOf(a)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(a);o("64af");var s,r=o("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"773ab81c",null,!1,n["a"],s);e["default"]=c.exports},d78e:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(o("0c3f")),i=s(o("2018")),a=o("b703");function s(t){return t&&t.__esModule?t:{default:t}}var r,c=function(){o.e("components/topBar").then(function(){return resolve(o("ad1a"))}.bind(null,o)).catch(o.oe)},u={components:{TopBar:c},data:function(){return{userId:"",IMG_BEFORE_URL:a.IMG_BEFORE_URL,markers:[],shopId:null,form:{customerName:"",xinyong:"",comyName:"",phoneNumber:"",houseNumber:"",titleAddress:"",number:"",backSide:"",frontSide:"",frontSides:"",backSides:"",latitude:null,longitude:null},isShow:!0,tagIndex:-1,show:!1,id:"",addressData:{},sheng:"",shi:"",qu:"",gender:0}},computed:{isIpx:function(){return this.$isIpx},navHeight:function(){return t.getStorageSync("navHeight")}},onLoad:function(t){this.shopId=t.id,this.getUserLocation()},methods:{chooseGender:function(t){this.gender=t},hideShow:function(){this.show=!1},getTags:function(t){console.log(this.tagIndex),this.tagIndex==t?this.tagIndex=-1:this.tagIndex=t},onsetCity:function(t){var e=t.detail.target.dataset,o=e.province+e.city+e.area;this.form.titleAddress=o,console.log(o),this.show=!1},openPicker:function(){this.show=!0},getUserLocation:function(){var e=this;t.getLocation({success:function(t){(t.errMsg="getLocation:ok")&&(r=new n.default.BMapWX({ak:"o9FZ3zhus8bwG08ros15iWXqehXp7zAE"}),r.regeocoding({location:{latitude:t.latitude,longitude:t.longitude},success:function(t){console.log(t,"4444"),e.form.latitude=t.originalData.result.location.lat,e.form.longitude=t.originalData.result.location.lng,e.form.address=t.originalData.result.formatted_address,e.markers[0]={longitude:t.originalData.result.location.lng,latitude:t.originalData.result.location.lat,width:23,height:25,title:t.originalData.result.formatted_address,iconPath:"http://www.mingtongxa.com/wanzhuan/addressto.png"}},fail:function(t){},complete:function(t){}}))}})},openMap:function(){var e=this;t.chooseLocation({success:function(t){console.log(t,"55555");var o=e.formatLocation(t);e.form.titleAddress=o.REGION_PROVINCE+o.REGION_CITY+o.REGION_COUNTRY,e.form.address=t.address,console.log("位置名称：",t),console.log("详细地址："+t.address)}})},formatLocation:function(e){var o=/^(北京市|天津市|重庆市|上海市|香港特别行政区|澳门特别行政区)/,n=[],i={REGION_PROVINCE:null,REGION_COUNTRY:null,REGION_CITY:null,ADDRESS:null};function a(t,n){o=/^(.*?[市]|.*?地区|.*?特别行政区)(.*?[市区县])(.*?)$/g;var i=o.exec(t);n.REGION_CITY=i[1],n.REGION_COUNTRY=i[2],n.ADDRESS=i[3]+"("+e.name+")"}return(n=o.exec(e.address))?(i.REGION_PROVINCE=n[1],a(e.address,i)):(o=/^(.*?(省|自治区))(.*?)$/,n=o.exec(e.address),i.REGION_PROVINCE=n[1],a(n[3],i)),console.log(i,"555555"),this.sheng=i.REGION_PROVINCE,this.shi=i.REGION_CITY,this.qu=i.REGION_COUNTRY,t.setStorageSync("district",i.REGION_COUNTRY),this.getQuNumber(),i},getQuNumber:function(){var e=this;i.default.map((function(o){o.cities.map((function(o){o.name==e.shi&&o.dis.map((function(o){o.disname==e.qu&&t.setStorageSync("quhao",o.disid)}))}))}))},chooseImg:function(e){if(1==e){var o=this;t.chooseImage({count:1,sourceType:["camera","album"],sizeType:["original","compressed"],success:function(t){var e=t.tempFilePaths[0];o.$comfun.uploadImg(e).then((function(t){var e=JSON.parse(t.data);o.form.frontSide=a.IMG_BEFORE_URL+e.data.url,o.form.frontSides=e.data.url}))}})}else if(2==e){o=this;t.chooseImage({count:1,sourceType:["camera","album"],sizeType:["original","compressed"],success:function(t){var e=t.tempFilePaths[0];o.$comfun.uploadImg(e).then((function(t){var e=JSON.parse(t.data);o.form.backSide=a.IMG_BEFORE_URL+e.data.url,o.form.backSides=e.data.url}))}})}},getSave:function(){if(this.form.comyName)if(this.form.xinyong)if(this.form.customerName)if(this.form.number)if(this.form.phoneNumber)if(this.form.address)if(this.form.frontSide)if(this.form.backSide){var e={id:this.shopId,address:this.form.address,frName:this.form.customerName,frPhone:this.form.number,idcard:this.form.phoneNumber,name:this.form.comyName,yingyePic:this.form.frontSides,xukePic:this.form.backSides,xyCode:this.form.xinyong};t.showLoading(),this.$api.iWantComyAdd(e).then((function(e){200==e.code?(t.hideLoading(),t.showToast({title:"提交审核成功",duration:1500}),setTimeout((function(){t.navigateBack()}),2e3)):t.showToast({title:e.msg,icon:"none",duration:1500})}))}else t.showToast({title:"请上传公司经营许可证！",icon:"none"});else t.showToast({title:"请上传公司营业执照！",icon:"none"});else t.showToast({title:"请选择地址！",icon:"none"});else t.showToast({title:"身份证号不能为空！",icon:"none"});else t.showToast({title:"法人电话不能为空！",icon:"none"});else t.showToast({title:"法人姓名不能为空！",icon:"none"});else t.showToast({title:"信用代码不能为空！",icon:"none"});else t.showToast({title:"公司名称不能为空！",icon:"none"})}}};e.default=u}).call(this,o("543d")["default"])},e5b8:function(t,e,o){"use strict";(function(t){o("6cdc");n(o("66fd"));var e=n(o("c5c0"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,o("543d")["createPage"])}},[["e5b8","common/runtime","common/vendor"]]]);