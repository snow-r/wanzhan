require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/spgl"],{3100:function(t,n,o){"use strict";(function(t){o("6cdc");e(o("66fd"));var n=e(o("7d81"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},"646e":function(t,n,o){"use strict";var e=o("dc7e"),s=o.n(e);s.a},"7d81":function(t,n,o){"use strict";o.r(n);var e=o("dd30"),s=o("8221");for(var i in s)["default"].indexOf(i)<0&&function(t){o.d(n,t,(function(){return s[t]}))}(i);o("646e");var a,u=o("f0c5"),c=Object(u["a"])(s["default"],e["b"],e["c"],!1,null,"7a18f5fc",null,!1,e["a"],a);n["default"]=c.exports},8221:function(t,n,o){"use strict";o.r(n);var e=o("9496"),s=o.n(e);for(var i in e)["default"].indexOf(i)<0&&function(t){o.d(n,t,(function(){return e[t]}))}(i);n["default"]=s.a},9496:function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o("b703"),s=function(){o.e("components/topBar").then(function(){return resolve(o("ad1a"))}.bind(null,o)).catch(o.oe)},i=function(){Promise.all([o.e("common/vendor"),o.e("components/dialog")]).then(function(){return resolve(o("9565"))}.bind(null,o)).catch(o.oe)},a={components:{TopBar:s,Dialog:i},data:function(){return{IMG_BEFORE_URL:e.IMG_BEFORE_URL,visible:!1,list:null,shopId:null,shopList:[],state:null,shopLists:t.getStorageSync("shopLists")}},computed:{isIpx:function(){return this.$isIpx},navHeight:function(){return t.getStorageSync("navHeight")}},onLoad:function(){this.getUser(),this.postSouList()},onShow:function(){this.getUser()},methods:{getShop:function(){var n=this;t.showLoading();var o={id:this.shopId};this.$api.getShopDetail(o).then((function(o){t.hideLoading(),200==o.code&&(n.state=o.data.state)}))},getUser:function(){var n=this;this.isLogin=!1;var o={userId:t.getStorageSync("userId")};this.$api.userMsg(o).then((function(o){n.shopList=o.data.shopList,t.getStorageSync("shopLists")?(n.shopLists=t.getStorageSync("shopLists"),n.shopId=t.getStorageSync("shopLists").detail.shopId):(t.setStorageSync("shopLists",o.data.shopList[0]),n.shopLists=t.getStorageSync("shopLists"),n.shopId=o.data.shopList[0].detail.shopId),n.getShop()}))},changeDaijin:function(){t.navigateTo({url:"/nopages/pages/spQuanbao?id="+this.shopId})},changeMeiyan:function(){t.navigateTo({url:"/nopages/pages/shopMeiyan?id="+this.shopId})},gotoRenzheng:function(){0==this.state?t.navigateTo({url:"/subpages/pages/company?id="+this.shopId}):(1==this.state||2==this.state)&&t.navigateTo({url:"/nopages/pages/msgCompany?id="+this.shopId})},changeCaipin:function(){t.navigateTo({url:"/nopages/pages/caipinGl?id="+this.shopId})},closeDialog:function(t){1==t?this.visible=!1:2==t&&(this.$comfun.Toast("切换店铺成功","none"),this.visible=!1)},changeShop:function(){t.navigateTo({url:"/nopages/pages/shopOrder?id="+this.shopId})},gotoBang:function(){t.navigateTo({url:"/subpages/pages/bangding"})},gotoQie:function(){this.shopList.length>=2&&(this.visible=!0)},bangding:function(n){this.shopLists=n,t.setStorageSync("shopLists",n),this.shopId=n.id,this.shopList.map((function(t){t.current=!1,t.detailId==n.detailId&&(t.current=!0)}))},scanCode:function(){var n=this;t.scanCode({success:function(o){var e=o.result;if(t.showLoading({title:"识别中"}),o.result){var s={code:e,shopId:n.shopId};n.$api.getQuanCodeMsg(s).then((function(n){t.hideLoading(),n.data&&t.navigateTo({url:"/nopages/pages/heyanSaoma?number="+n.data.voucherCode+"&shopId="+n.data.shopId+"&start="+n.data.startTime+"&end="+n.data.endTime+"&name="+n.data.name})}))}else t.showToast({title:"核销码错误",icon:"none",duration:1e3})}})},postSouList:function(){var n=this,o={inviteCode:this.inviside,createUserMobile:this.phone};t.showLoading(),this.$api.postSouList(o).then((function(o){t.hideLoading(),console.log(o,"444"),200==o.code?o.data.map((function(t){t.current=!1})):n.$comfun.Toast(o.msg,"none")}))},didUp:function(n){console.log("shop === ",n),this.$api.snow.enableShop(t.getStorageSync("userId")).then((function(t){console.log("上架结果 -- ",t)}))}}};n.default=a}).call(this,o("543d")["default"])},dc7e:function(t,n,o){},dd30:function(t,n,o){"use strict";var e;o.d(n,"b",(function(){return s})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return e}));var s=function(){var t=this,n=t.$createElement,o=(t._self._c,t.shopList.length>0?/^http/.test(t.shopLists.detail.imgUrl):null);t.$mp.data=Object.assign({},{$root:{g0:o}})},i=[]}},[["3100","common/runtime","common/vendor"]]]);