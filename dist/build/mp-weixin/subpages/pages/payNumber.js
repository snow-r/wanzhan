require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["subpages/pages/payNumber"],{"121c":function(e,n,t){"use strict";t.r(n);var a=t("761e"),o=t.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(i);n["default"]=o.a},"4dc9":function(e,n,t){},"50da":function(e,n,t){"use strict";var a=t("4dc9"),o=t.n(a);o.a},"5c1b":function(e,n,t){"use strict";(function(e){t("6cdc");a(t("66fd"));var n=a(t("70b6"));function a(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])},"70b6":function(e,n,t){"use strict";t.r(n);var a=t("b9aa"),o=t("121c");for(var i in o)["default"].indexOf(i)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(i);t("50da");var r,s=t("f0c5"),c=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"b8a41630",null,!1,a["a"],r);n["default"]=c.exports},"761e":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){t.e("components/topBar").then(function(){return resolve(t("ad1a"))}.bind(null,t)).catch(t.oe)},o={components:{TopBar:a},data:function(){return{payNum:null,orderId:null,orderNo:"",orderTime:"",start:"",end:""}},computed:{isIpx:function(){return this.$isIpx},navHeight:function(){return e.getStorageSync("navHeight")}},onLoad:function(e){this.payNum=e.number,this.orderId=e.orderId,this.getOrder()},methods:{getOrder:function(){var n=this,t={id:this.orderId};e.showLoading({mask:!0}),this.$api.getOrderDetail(t).then((function(t){e.hideLoading(),console.log(t,"66666"),200==t.code?(n.orderNo=t.data.orderNo,n.orderTime=t.data.createTime,n.start=t.data.startTime,n.end=t.data.endTime):e.showToast({title:t.msg,icon:"none",duration:1500})}))},payMentOrder:function(){var n=this,t={id:Number(this.orderId),payType:"wxPay",payWay:"JSAPI"};e.showLoading({mask:!0}),this.$api.payOrderList(t).then((function(t){e.hideLoading(),200==t.code?n.wxPay(t.data.wxPay):n.$comfun.Toast(t.msg,"none")}))},wxPay:function(n){var t=this,a=this;e.showLoading({mask:!0}),e.requestPayment({timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign,success:function(n){e.hideLoading(),e.showToast({title:"支付成功",icon:"none"}),e.navigateTo({url:"/subpages/pages/paySuccess?payNum="+a.payNum+"&orderNo="+a.orderNo+"&start="+a.start+"&end="+a.end+"&orderTime="+t.orderTime})},fail:function(n){console.log(n,"支付"),e.hideLoading(),"requestPayment:fail cancel"==n.errMsg?e.showToast({title:"取消支付",icon:"none"}):e.showToast({title:"支付失败",icon:"none"})}})},appPay:function(n){e.requestPayment({provider:"wxpay",orderInfo:JSON.stringify({appid:n.appid,noncestr:n.noncestr,package:n.package,partnerid:n.partnerid,prepayid:n.prepayid,timestamp:n.timestamp,sign:n.sign.slice(0,30)}),success:function(n){e.hideLoading(),e.showToast({title:"支付成功",icon:"none"}),e.navigateTo({url:"/subpages/pages/paySuccess?payNum=".concat(this.payNum)})},fail:function(n){e.hideLoading(),"requestPayment:fail cancel"==n.errMsg?e.showToast({title:"取消支付",icon:"none"}):e.showModal({content:"支付失败,原因为: "+n.errMsg,showCancel:!1})}})}}};n.default=o}).call(this,t("543d")["default"])},b9aa:function(e,n,t){"use strict";var a;t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return i})),t.d(n,"a",(function(){return a}));var o=function(){var e=this,n=e.$createElement;e._self._c},i=[]}},[["5c1b","common/runtime","common/vendor"]]]);