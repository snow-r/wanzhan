(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pages/indexSearch"],{"0f9e":function(e,t,n){"use strict";n.r(t);var o=n("7c61"),i=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},"4c17":function(e,t,n){"use strict";var o;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var i=function(){var e=this,t=e.$createElement,n=(e._self._c,null!=e.contentArr&&e.contentArr.length>0?e.__map(e.contentArr,(function(t,n){var o=e.__get_orig(t),i="null"!=t.tags?t.tags.replace(/,/g," | "):null;return{$orig:o,g0:i}})):null);e.$mp.data=Object.assign({},{$root:{l0:n}})},r=[]},"71f7":function(e,t,n){"use strict";(function(e){n("6cdc");o(n("66fd"));var t=o(n("8f5a"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"7c61":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("b703"),i=function(){n.e("components/topBar").then(function(){return resolve(n("ad1a"))}.bind(null,n)).catch(n.oe)},r={components:{TopBar:i},data:function(){return{IMG_BEFORE_URL:o.IMG_BEFORE_URL,type:"",current:1,currentType:1,totalPage:1,houseList:[],keyBord:"",oldKeywordList:[],isShowKeywordList:!1,oldKeys:[],headerActive:1,timeID:-1,contentArr:null,hotSearch:[{name:"疏通"},{name:"开锁"},{name:"洗衣机"},{name:"衣物清洗"},{name:"装修"}]}},onLoad:function(t){e.getStorageSync("indexKeys")&&(this.oldKeys=JSON.parse(e.getStorageSync("indexKeys")),console.log(this.oldKeys,"111"))},computed:{isIpx:function(){return this.$isIpx},navHeight:function(){return e.getStorageSync("navHeight")}},mounted:function(){},methods:{doSearch:function(){},chooseAvtiveClick:function(e,t){this.headerActive=e,this.getDataList(e)},goSearch:function(){var t=this;if(""!=this.keyBord&&this.saveKeyword(this.keyBord),!this.keyBord)return this.contentArr=[],void(this.isShowKeywordList=!1);e.showLoading({mask:!0});var n={searchValue:this.keyBord};this.$api.searchIndex(n).then((function(n){e.hideLoading(),t.contentArr=n.data,0==t.contentArr.length&&(t.isShowKeywordList=!0)}))},goSearchs:function(e){var t=this;this.timeID&&clearTimeout(this.timeID),this.timeID=setTimeout((function(){t.keyBord=e.detail.value,t.goSearch()}),600)},getDataList:function(t){if(""!=this.keyBord){e.showLoading({mask:!0})}else e.showToast({title:"请输入要搜索的内容",icon:"none"})},ondoSearch:function(e){this.keyBord=e,this.goSearch()},ondoSearchs:function(e){this.keyBord=e,this.goSearch()},oldDelete:function(){var t=this;e.showModal({content:"确定清除历史搜索记录？",success:function(n){n.confirm?(console.log("用户点击确定"),t.oldKeys=[],t.oldKeys=[],e.removeStorage({key:"indexKeys"})):n.cancel&&console.log("用户点击取消")}})},saveKeyword:function(t){var n=this;e.getStorage({key:"indexKeys",success:function(o){var i=JSON.parse(o.data),r=i.indexOf(t);-1==r||i.splice(r,1),i.unshift(t);var a=[];i.forEach((function(e,t){a.push(e.split(" ").join(""))}));for(var s=[],c=0;c<a.length;c++)-1===s.indexOf(a[c])&&s.push(a[c]);n.indexKeys=s,s.length>10&&i.pop(),e.setStorage({key:"indexKeys",data:JSON.stringify(i)}),n.oldKeys=s},fail:function(o){var i=[t];e.setStorage({key:"indexKeys",data:JSON.stringify(i)}),n.oldKeys=i}})},pageTo:function(t,n){e.navigateTo({url:"/subpages/pages/shopDetail?id="+t.id})}}};t.default=r}).call(this,n("543d")["default"])},8318:function(e,t,n){},8850:function(e,t,n){"use strict";var o=n("8318"),i=n.n(o);i.a},"8f5a":function(e,t,n){"use strict";n.r(t);var o=n("4c17"),i=n("0f9e");for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("8850");var a,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"bc4be134",null,!1,o["a"],a);t["default"]=c.exports}},[["71f7","common/runtime","common/vendor"]]]);